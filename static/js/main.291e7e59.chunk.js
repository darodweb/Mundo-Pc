(this.webpackJsonpecommerce2=this.webpackJsonpecommerce2||[]).push([[0],{16:function(e,t,c){},24:function(e,t,c){},27:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},47:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),i=c(30),s=c.n(i),o=(c(39),c(40),c(13)),j=c(3),l=(c(27),c(6)),d=function(e){var t=e.item;return Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center",margin:"0 150px",borderBottom:"1px solid #ddd",padding:"20px"},children:[Object(n.jsx)("div",{style:{height:"160px",width:"160px",overflow:"hidden",padding:"0 24px"},children:Object(n.jsx)("img",{src:t.img,alt:t.product,style:{width:"100%"}})}),Object(n.jsxs)("div",{style:{flexGrow:"1"},children:[Object(n.jsx)(l.b,{to:"/item/".concat(t.id),children:Object(n.jsx)("h2",{style:{marginBottom:"10px",color:"#333",fontSize:"20px",fontWeight:"300",lineHeight:"1.3"},children:t.name})}),Object(n.jsxs)("div",{style:{color:"#333",fontSize:"24px",fontWeight:"600",marginBottom:"8px",lineHeight:"1.25"},children:["$ ",t.price.toLocaleString()]})]})]})},b=c.p+"static/media/Spinner.6098456d.gif",u=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"text-center",style:{marginTop:"50px"},children:Object(n.jsx)("img",{src:b,alt:"spinner"})})})},m=function(e){var t=e.items;return t?Object(n.jsx)("div",{style:{background:"#fff",borderRadius:"5px"},children:t.map((function(e,t){return Object(n.jsx)(d,{item:e},t)}))}):Object(n.jsx)(u,{})},O=c(19),x=(c(45),O.a.initializeApp({apiKey:"AIzaSyAy_cfQiS1NfLkrAffywFc3iMfCsvc4qz0",authDomain:"clase-coderhouse.firebaseapp.com",projectId:"clase-coderhouse",storageBucket:"clase-coderhouse.appspot.com",messagingSenderId:"923076147634",appId:"1:923076147634:web:ec35786e03e2bb63a48cab"}),function(){return O.a.firestore()}),h=function(){var e=Object(r.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(r.useEffect)((function(){x().collection("productos").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));a(t)}))}),[]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m,{items:c})})},p=(c(47),c(31)),f=c.n(p),g=a.a.createContext(),v=x().collection("Ventas"),y=function(e){var t=Object(r.useState)([]),c=Object(j.a)(t,2),a=c[0],i=c[1],s=Object(r.useState)(0),o=Object(j.a)(s,2),l=o[0],d=o[1];return Object(n.jsx)(g.Provider,{value:[a,i,l,d],children:e.children})},N=function(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(r.useContext)(g),s=Object(j.a)(i,1)[0];return Object(r.useEffect)((function(){if(s.length>0){var e=0;s.forEach((function(t){return e=+Number(t.quantity)})),a((function(t){return t+e}))}else a(0)}),[s]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f.a,{fontSize:"large",color:"secondary"}),s&&Object(n.jsx)("span",{children:c})]})},S=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(r.useEffect)((function(){x().collection("categorias").get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));a(t)}))}),[]),Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("p",{className:"sitename ",children:"Mundo PC"})}),Object(n.jsxs)("ul",{className:"nav-wrapper",children:[c.map((function(e,t){return Object(n.jsx)(l.b,{to:"/categoria/".concat(e.type),children:Object(n.jsx)("li",{children:e.type})},t)})),Object(n.jsx)(l.b,{to:"/cart",children:Object(n.jsx)("li",{children:Object(n.jsx)(N,{})})})]})]})},C=c(4),w=c(32),E=(c(16),function(e){var t=e.initial,c=e.min,a=e.max,i=e.onAdd,s=Object(r.useState)(t),o=Object(j.a)(s,2),l=o[0],d=o[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("button",{className:"btn__decrement",onClick:function(){l-1>=c&&d(l-1)},children:Object(n.jsx)("span",{className:"innerbutton",children:"-"})}),Object(n.jsx)("input",{className:"btn__input",type:"number",disabled:!0,value:l}),Object(n.jsx)("button",{className:"btn__increment",onClick:function(){l+1<=a&&d(l+1)},children:Object(n.jsx)("span",{className:"innerbutton",children:"+"})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)("div",{className:"btn__container",children:Object(n.jsxs)("button",{className:"btn__carrito-submit",onClick:function(){return i(l)},children:["Comprar ",l]})})]})}),_=(c(24),function(e){var t=e.item,c=Object(r.useContext)(g),a=Object(j.a)(c,2),i=a[0],s=a[1];console.log(i);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"cardcontainer",style:{margin:"25px auto"},children:Object(n.jsxs)("div",{className:"col",style:{margin:"0 auto"},children:[Object(n.jsx)("img",{src:t.img,alt:"notebook",width:"80%"}),Object(n.jsx)("h2",{children:t.name}),Object(n.jsxs)("p",{children:["$",t.price]}),Object(n.jsx)(E,{initial:1,min:1,max:10,onAdd:function(e){alert("Se agregaron ".concat(e," productos al carrito.")),s([].concat(Object(w.a)(i),[{quantity:e,item:t}]))}})]})})})}),F=function(){var e=Object(C.g)().productId,t=Object(r.useState)(),c=Object(j.a)(t,2),a=c[0],i=c[1];return console.log(e),Object(r.useEffect)((function(){x().collection("productos").get().then((function(t){var c=t.docs.map((function(e){return Object(o.a)({id:e.id},e.data())})).find((function(t){return t.id===e}));c?(console.log("El ID del producto seleccionado es: ".concat(c.id)),i(c)):(alert("No se encontraron productos"),console.log("No se encontraron productos"))}))}),[e]),a?Object(n.jsx)(_,{item:a}):Object(n.jsx)(u,{})},I=function(e){var t=e.registrarVenta,c=Object(r.useContext)(g),a=Object(j.a)(c,2),i=(a[0],a[1]),s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],d=o[1],b=Object(r.useState)(""),u=Object(j.a)(b,2),m=u[0],O=u[1],x=Object(r.useState)(""),h=Object(j.a)(x,2),p=h[0],f=h[1],v=Object(r.useState)(""),y=Object(j.a)(v,2),N=y[0],S=y[1],C=Object(r.useState)("block"),w=Object(j.a)(C,2),E=(w[0],w[1]),_=function(){t({name:l,telefono:p,email:m})};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_(),d(""),O(""),S(""),f(""),E("none"),i([])},className:"p-3 mr-4 border border-3",style:{height:"460px",width:"30%",margin:"20px auto"},children:[Object(n.jsx)("h3",{className:"mb-4",children:"Registrar Compra"}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre y Apellido",onChange:function(e){d(e.target.value)},required:!0,value:l})}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("input",{type:"text",className:"form-control",name:"telefono",placeholder:"Tel\xe9fono",onChange:function(e){f(e.target.value)},required:!0,value:p})}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",onChange:function(e){O(e.target.value)},required:!0,value:m})}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("input",{type:"email",className:"form-control",name:"email2",placeholder:"Repetir Email",onChange:function(e){S(e.target.value)},required:!0,value:N}),m.trim()!==N.trim()?Object(n.jsx)("span",{className:"text-danger",children:"Los emails no coinciden."}):null]}),Object(n.jsx)("button",{type:"submit",className:"btn__carrito-submit mt-4",style:{margin:"0 auto"},children:"Finalizar Compra"})]})})},k=function(){var e=Object(r.useState)(),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(C.f)(),s=Object(r.useContext)(g),o=Object(j.a)(s,2),d=o[0],b=(o[1],Object(r.useState)()),u=Object(j.a)(b,2),m=u[0],x=u[1];Object(r.useEffect)((function(){var e=0;d.length>0&&d.forEach((function(t){e=Number(e)+Number(t.item.price),x(e)}))}),[]);return d.length>0?Object(n.jsxs)("div",{className:"cardcontainer",style:{marginTop:"25px",display:"flex",flexFlow:"row",justifyContent:"space-between",width:"75%"},children:[Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("h2",{children:"Detalle de Carrito:"}),Object(n.jsx)("br",{}),d.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"2rem"},children:[Object(n.jsx)("img",{src:e.item.img,width:"25%",alt:"laptop"}),Object(n.jsxs)("div",{style:{display:"flex",flexFlow:"column"},children:[Object(n.jsx)("h3",{style:{marginTop:"30px"},children:e.item.name}),Object(n.jsxs)("p",{children:["Cantidad: ",e.quantity," unidad(es)"]}),Object(n.jsxs)("p",{children:["$",e.item.price*e.quantity]}),Object(n.jsx)("br",{})]})]})},t)})),Object(n.jsxs)("h5",{className:"text-primary",children:["El total de su compra es $ ",m,"."]})]}),Object(n.jsx)(I,{registrarVenta:function(e){var t={buyer:e,items:{cart:d},date:O.a.firestore.Timestamp.fromDate(new Date),total:m};v.add(t).then((function(e){var t=e.id;a(t),console.log("El numero de orden es ".concat(t)),i.push("/cart/checkout/".concat(t))}))},cart:d,orderId:c})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"cardcontainer",style:{margin:"25px auto"},children:Object(n.jsxs)(l.b,{to:"/",children:[Object(n.jsx)("h3",{children:"Tu carrito est\xe1 vac\xedo."}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn__carrito",children:"Regresar al Inicio"})]})})})},q=function(){var e=Object(C.g)().categoryId,t=Object(r.useState)(),c=Object(j.a)(t,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){x().collection("productos").where("type","==",e).get().then((function(e){var t=e.docs.map((function(e){return Object(o.a)({id:e.id},e.data())}));i(t)}))}),[e]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{className:"text-center my-5",children:e}),a?Object(n.jsx)(m,{items:a}):Object(n.jsx)(u,{})]})},z=function(){var e=Object(C.g)().orderNumber,t=Object(r.useState)(),c=Object(j.a)(t,2),a=c[0],i=c[1];return Object(r.useEffect)((function(){v.get().then((function(t){var c=t.docs.map((function(e){return Object(o.a)({id:e.id},e.data())})).find((function(t){return t.id===e}));c?(console.log("El ID del producto seleccionado es: ".concat(c.id)),i(c)):alert("No se encontraron productos")}))}),[e]),Object(n.jsx)(n.Fragment,{children:a?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"text-center mt-5",children:[Object(n.jsx)("p",{style:{fontSize:"1.50rem"},children:"Gracias por su compra! Su numero de orden es:  "}),Object(n.jsx)("p",{style:{color:"#0D6EFD",fontSize:"1.25rem",fontWeight:"bold"},children:a.id}),Object(n.jsx)(l.b,{to:"/",children:Object(n.jsx)("button",{className:"btn__carrito-submit mt-4",style:{margin:"0 auto"},children:"Regresar al Home"})})]})}):Object(n.jsx)(u,{})})};var D=function(){return Object(n.jsx)(y,{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(S,{}),Object(n.jsxs)(C.c,{children:[Object(n.jsx)(C.a,{exact:!0,path:"/item/:productId",children:Object(n.jsx)(F,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/cart",children:Object(n.jsx)(k,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/categoria/:categoryId",children:Object(n.jsx)(q,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/cart/checkout/:orderNumber",children:Object(n.jsx)(z,{})}),Object(n.jsx)(C.a,{exact:!0,path:"/",children:Object(n.jsx)(h,{})})]})]})})};s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(D,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.291e7e59.chunk.js.map